angular.module("YouTube Feed").controller("youTubeCtrl",function(e,o,l,i,a,t,n,s,d,u,c,p,r){e.playlistId=i.playlistId,e.videoId=i.videoId,e.includePart=e.videoId?"app/views/video.html":"app/views/grid.html",o.back&&o.back.use&&o.back.page&&(e.page=o.back.page,o.back=null),function(){console.log("reloaded");var l=e.playlistId?e.playlistId:u;o.videos||(console.log("got videos"),c.videoQuery(n,l).then(function(l){o.videos=l,o.numberOfPages=Math.ceil(e.videos.pageInfo.totalResults/12),e.page=1},function(e){o.error=e})),o.playlists||(console.log("got playlists"),p.playlistQuery(s,d).then(function(e){o.playlists=e},function(e){o.error=e})),e.videoId&&(console.log("got info"),r.videoInfo(e.videoId).then(function(o){e.vid=o,console.log(e.vid)},function(e){o.error=e}))}(),e.viewPlaylist=function(l){o.videos=null,a.path("/playlist/"+l),c.videoQuery(n,l).then(function(l){o.videos=l,o.numberOfPages=Math.ceil(e.videos.pageInfo.totalResults/12),e.page=1},function(e){o.error=e})},e.pageQuery=function(l,a){o.videos=null;var t=i.playlistId?i.playlistId:u;c.videoQuery(n,t,l).then(function(l){o.videos=l,e.page+=a},function(e){o.error=e})},e.destroy=function(){e.videoId=null,o.back.use=!0,a.path(o.back.playlistId?"/playlist/"+o.back.playlistId:"/")},e.viewAll=function(){o.videos=null,a.path("/")},e.viewVideo=function(l){o.back||(o.back={}),o.back.playlistId=e.playlistId?e.playlistId:null,o.back.page=e.page,o.back.use=!1,a.path("/video/"+l)},e.playerVars={showinfo:1}});